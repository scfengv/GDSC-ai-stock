import{_ as M,o as g,c as w,a,t as x,h as D,v as G,F as E,e as P,b as V,r as R,f as H,w as W}from"./index-DX8pyz2H.js";import{C as B,S as U}from"./ScrollReveal-Bhwa_-UG.js";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $=Symbol("Comlink.proxy"),Y=Symbol("Comlink.endpoint"),q=Symbol("Comlink.releaseProxy"),S=Symbol("Comlink.finalizer"),b=Symbol("Comlink.thrown"),L=e=>typeof e=="object"&&e!==null||typeof e=="function",X={canHandle:e=>L(e)&&e[$],serialize(e){const{port1:t,port2:r}=new MessageChannel;return F(e,t),[r,[r]]},deserialize(e){return e.start(),I(e)}},Z={canHandle:e=>L(e)&&b in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},A=new Map([["proxy",X],["throw",Z]]);function J(e,t){for(const r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function F(e,t=globalThis,r=["*"]){t.addEventListener("message",function c(n){if(!n||!n.data)return;if(!J(r,n.origin)){console.warn(`Invalid origin '${n.origin}' for comlink proxy`);return}const{id:i,type:o,path:s}=Object.assign({path:[]},n.data),d=(n.data.argumentList||[]).map(h);let l;try{const u=s.slice(0,-1).reduce((m,_)=>m[_],e),f=s.reduce((m,_)=>m[_],e);switch(o){case"GET":l=f;break;case"SET":u[s.slice(-1)[0]]=h(n.data.value),l=!0;break;case"APPLY":l=f.apply(u,d);break;case"CONSTRUCT":{const m=new f(...d);l=ne(m)}break;case"ENDPOINT":{const{port1:m,port2:_}=new MessageChannel;F(e,_),l=re(m,[m])}break;case"RELEASE":l=void 0;break;default:return}}catch(u){l={value:u,[b]:0}}Promise.resolve(l).catch(u=>({value:u,[b]:0})).then(u=>{const[f,m]=v(u);t.postMessage(Object.assign(Object.assign({},f),{id:i}),m),o==="RELEASE"&&(t.removeEventListener("message",c),O(t),S in e&&typeof e[S]=="function"&&e[S]())}).catch(u=>{const[f,m]=v({value:new TypeError("Unserializable return value"),[b]:0});t.postMessage(Object.assign(Object.assign({},f),{id:i}),m)})}),t.start&&t.start()}function K(e){return e.constructor.name==="MessagePort"}function O(e){K(e)&&e.close()}function I(e,t){return T(e,[],t)}function y(e){if(e)throw new Error("Proxy has been released and is not useable")}function z(e){return p(e,{type:"RELEASE"}).then(()=>{O(e)})}const k=new WeakMap,C="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(k.get(e)||0)-1;k.set(e,t),t===0&&z(e)});function Q(e,t){const r=(k.get(t)||0)+1;k.set(t,r),C&&C.register(e,t,e)}function ee(e){C&&C.unregister(e)}function T(e,t=[],r=function(){}){let c=!1;const n=new Proxy(r,{get(i,o){if(y(c),o===q)return()=>{ee(n),z(e),c=!0};if(o==="then"){if(t.length===0)return{then:()=>n};const s=p(e,{type:"GET",path:t.map(d=>d.toString())}).then(h);return s.then.bind(s)}return T(e,[...t,o])},set(i,o,s){y(c);const[d,l]=v(s);return p(e,{type:"SET",path:[...t,o].map(u=>u.toString()),value:d},l).then(h)},apply(i,o,s){y(c);const d=t[t.length-1];if(d===Y)return p(e,{type:"ENDPOINT"}).then(h);if(d==="bind")return T(e,t.slice(0,-1));const[l,u]=N(s);return p(e,{type:"APPLY",path:t.map(f=>f.toString()),argumentList:l},u).then(h)},construct(i,o){y(c);const[s,d]=N(o);return p(e,{type:"CONSTRUCT",path:t.map(l=>l.toString()),argumentList:s},d).then(h)}});return Q(n,e),n}function te(e){return Array.prototype.concat.apply([],e)}function N(e){const t=e.map(v);return[t.map(r=>r[0]),te(t.map(r=>r[1]))]}const j=new WeakMap;function re(e,t){return j.set(e,t),e}function ne(e){return Object.assign(e,{[$]:!0})}function v(e){for(const[t,r]of A)if(r.canHandle(e)){const[c,n]=r.serialize(e);return[{type:"HANDLER",name:t,value:c},n]}return[{type:"RAW",value:e},j.get(e)||[]]}function h(e){switch(e.type){case"HANDLER":return A.get(e.name).deserialize(e.value);case"RAW":return e.value}}function p(e,t,r){return new Promise(c=>{const n=se();e.addEventListener("message",function i(o){!o.data||!o.data.id||o.data.id!==n||(e.removeEventListener("message",i),c(o.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:n},t),r)})}function se(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const oe={components:{CountTo:B},data(){return{model:{modelName:"",modelFounder:"",output:null,modelGroup:""}}},mounted(){const e=this.$route.path.includes("/News"),t=this.$route.path.includes("/Tweets"),r=this.$route.path.includes("/EarningCall");console.log("isNews:",e),console.log("isTweets:",t),console.log("isEarningCall:",r),e?(this.model.modelName="tesla_news_title_sentiment_analysis",this.model.modelFounder="YC9Z",this.model.modelGroup="News"):t?(this.model.modelName="tweet-sentiment-analysis-for-tesla",this.model.modelFounder="CX330Blake",this.model.modelGroup="Tweets"):r&&(this.model.modelName="tesla_earningscall_sentiment_analysis",this.model.modelFounder="weip9012",this.model.modelGroup="Earnings Call")},computed:{},methods:{async modelInference(){const e=`${this.model.modelFounder}/${this.model.modelName}`,t=this.$refs.textInference.value;console.log(t);const r=new Worker(new URL("/GDSC-ai-stock/assets/model-mLffB-nZ.js",import.meta.url),{type:"module"}),c=I(r);try{const n=await c.fetchData(e,t);this.model.output=n.flat().map(i=>(i.score=Math.round(i.score*1e3)/1e3,i.score=parseFloat(i.score.toFixed(3)),i))}catch(n){console.error(`Error fetching data: ${n}`)}}}},ae={class:"text-2xl font-bold pt-4 pb-3 text-center text-white md:w-[94vw] md:mx-auto xl:w-[84vw]"},ie={class:"mx-2 md:w-[94vw] md:mx-auto xl:w-[84vw] mb-4"},le=a("h2",{class:"text-white font-bold text-xl my-3"},"Inference API",-1),ce={class:"grid grid-rows-[repeat(2,auto)] gap-y-3 bg-[#4a4a4a] rounded-lg p-4"},de={ref:"textInference",class:"border border-white/5 bg-[#5b5b5b] px-3 py-2 min-h-24 rounded-lg text-white"},ue={class:"bg-[#4a4a4a] rounded-lg px-4 py-3 mb-2 grid grid-rows-3 gap-y-1"},me={class:"text-white"};function fe(e,t,r,c,n,i){const o=R("CountTo");return g(),w(E,null,[a("h1",ae,x(n.model.modelGroup),1),a("section",ie,[a("div",null,[le,a("div",ce,[a("textarea",de,null,512),a("button",{onClick:t[0]||(t[0]=(...s)=>i.modelInference&&i.modelInference(...s)),class:"bg-[#1387f8] rounded-lg h-10 text-white"}," Compute ")])]),D(a("div",ue,[(g(!0),w(E,null,P(n.model.output,(s,d)=>(g(),w("div",{key:s.label,class:"w-full grid grid-cols-2 justify-between col-span-2"},[a("div",me,x(s.label),1),V(o,{"start-val":0,"end-val":s.score,duration:1e3,decimals:3,class:"text-right text-white"},null,8,["end-val"])]))),128))],512),[[G,n.model.output]])])],64)}const Ne=M(oe,[["render",fe]]),ge={props:{processes:{type:Object,required:!1}},components:{ScrollReveal:U}},he={class:"mx-2 md:w-[94vw] md:mx-auto xl:w-[84vw] mb-4"},we=a("h2",{class:"text-white font-bold text-xl my-3"},"Production Process",-1),pe={class:"justify-self-center grid grid-rows-2 place-items-center w-10 h-10 mr-5"},xe=a("div",{class:"text-lg text-[#d0d0d0] font-bold tracking-wider"},"STEP",-1),_e={class:"text-lg text-[#d0d0d0] font-bold tracking-wider"},ye={class:"flex-grow md:grid md:grid-cols-2 md:gap-x-5"},be={class:"text-white font-bold text-lg pb-3"},Ee={class:"text-[#d0d0d0]"},ke={class:"grid grid-rows-[repeat(auto-fill,1fr)] mt-3 gap-y-2"},Ce=["href"],ve={class:"overflow-hidden whitespace-nowrap text-ellipsis"};function Se(e,t,r,c,n,i){const o=R("ScrollReveal");return g(),w("section",he,[we,(g(!0),w(E,null,P(r.processes,(s,d)=>(g(),H(o,{key:s.id,class:"bg-[#4a4a4a] rounded-lg grid grid-cols-[1fr,3fr] md:grid-cols-[1fr,5fr] lg:grid-cols-[1fr,6fr] mb-2 p-4"},{default:W(()=>[a("div",pe,[xe,a("div",_e,x((d+1).toString().padStart(2,"0")),1)]),a("div",ye,[a("div",null,[a("div",be,x(s.title),1),a("div",Ee,x(s.text),1)]),a("div",ke,[(g(!0),w(E,null,P(s.sources,l=>(g(),w("a",{key:l.id,href:l.url,target:"_blank",rel:"noopener noreferrer",class:"border border-solid border-white text-[#d0d0d0] text-sm rounded-lg px-4 h-9 grid items-center"},[a("span",ve,x(l.name),1)],8,Ce))),128))])])]),_:2},1024))),128))])}const Me=M(ge,[["render",Se]]);export{Ne as M,Me as P};
