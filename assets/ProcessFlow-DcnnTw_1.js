import{_ as M,o as g,c as w,a,t as h,F as S,e as v,b as j,r as R,f as G,w as H}from"./index-B3clrxLj.js";import{C as D,S as U}from"./ScrollReveal-BCYEkh1u.js";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $=Symbol("Comlink.proxy"),W=Symbol("Comlink.endpoint"),B=Symbol("Comlink.releaseProxy"),P=Symbol("Comlink.finalizer"),b=Symbol("Comlink.thrown"),L=e=>typeof e=="object"&&e!==null||typeof e=="function",Y={canHandle:e=>L(e)&&e[$],serialize(e){const{port1:t,port2:s}=new MessageChannel;return A(e,t),[s,[s]]},deserialize(e){return e.start(),z(e)}},q={canHandle:e=>L(e)&&b in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},F=new Map([["proxy",Y],["throw",q]]);function X(e,t){for(const s of e)if(t===s||s==="*"||s instanceof RegExp&&s.test(t))return!0;return!1}function A(e,t=globalThis,s=["*"]){t.addEventListener("message",function c(n){if(!n||!n.data)return;if(!X(s,n.origin)){console.warn(`Invalid origin '${n.origin}' for comlink proxy`);return}const{id:i,type:o,path:r}=Object.assign({path:[]},n.data),d=(n.data.argumentList||[]).map(p);let l;try{const u=r.slice(0,-1).reduce((m,y)=>m[y],e),f=r.reduce((m,y)=>m[y],e);switch(o){case"GET":l=f;break;case"SET":u[r.slice(-1)[0]]=p(n.data.value),l=!0;break;case"APPLY":l=f.apply(u,d);break;case"CONSTRUCT":{const m=new f(...d);l=te(m)}break;case"ENDPOINT":{const{port1:m,port2:y}=new MessageChannel;A(e,y),l=ee(m,[m])}break;case"RELEASE":l=void 0;break;default:return}}catch(u){l={value:u,[b]:0}}Promise.resolve(l).catch(u=>({value:u,[b]:0})).then(u=>{const[f,m]=C(u);t.postMessage(Object.assign(Object.assign({},f),{id:i}),m),o==="RELEASE"&&(t.removeEventListener("message",c),O(t),P in e&&typeof e[P]=="function"&&e[P]())}).catch(u=>{const[f,m]=C({value:new TypeError("Unserializable return value"),[b]:0});t.postMessage(Object.assign(Object.assign({},f),{id:i}),m)})}),t.start&&t.start()}function Z(e){return e.constructor.name==="MessagePort"}function O(e){Z(e)&&e.close()}function z(e,t){return N(e,[],t)}function x(e){if(e)throw new Error("Proxy has been released and is not useable")}function I(e){return _(e,{type:"RELEASE"}).then(()=>{O(e)})}const E=new WeakMap,k="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(E.get(e)||0)-1;E.set(e,t),t===0&&I(e)});function J(e,t){const s=(E.get(t)||0)+1;E.set(t,s),k&&k.register(e,t,e)}function K(e){k&&k.unregister(e)}function N(e,t=[],s=function(){}){let c=!1;const n=new Proxy(s,{get(i,o){if(x(c),o===B)return()=>{K(n),I(e),c=!0};if(o==="then"){if(t.length===0)return{then:()=>n};const r=_(e,{type:"GET",path:t.map(d=>d.toString())}).then(p);return r.then.bind(r)}return N(e,[...t,o])},set(i,o,r){x(c);const[d,l]=C(r);return _(e,{type:"SET",path:[...t,o].map(u=>u.toString()),value:d},l).then(p)},apply(i,o,r){x(c);const d=t[t.length-1];if(d===W)return _(e,{type:"ENDPOINT"}).then(p);if(d==="bind")return N(e,t.slice(0,-1));const[l,u]=T(r);return _(e,{type:"APPLY",path:t.map(f=>f.toString()),argumentList:l},u).then(p)},construct(i,o){x(c);const[r,d]=T(o);return _(e,{type:"CONSTRUCT",path:t.map(l=>l.toString()),argumentList:r},d).then(p)}});return J(n,e),n}function Q(e){return Array.prototype.concat.apply([],e)}function T(e){const t=e.map(C);return[t.map(s=>s[0]),Q(t.map(s=>s[1]))]}const V=new WeakMap;function ee(e,t){return V.set(e,t),e}function te(e){return Object.assign(e,{[$]:!0})}function C(e){for(const[t,s]of F)if(s.canHandle(e)){const[c,n]=s.serialize(e);return[{type:"HANDLER",name:t,value:c},n]}return[{type:"RAW",value:e},V.get(e)||[]]}function p(e){switch(e.type){case"HANDLER":return F.get(e.name).deserialize(e.value);case"RAW":return e.value}}function _(e,t,s){return new Promise(c=>{const n=se();e.addEventListener("message",function i(o){!o.data||!o.data.id||o.data.id!==n||(e.removeEventListener("message",i),c(o.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:n},t),s)})}function se(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const ne={components:{CountTo:D},data(){return{model:{modelName:"",modelFounder:"",output:null,modelGroup:""}}},created(){},mounted(){const e=this.$route.path.includes("/News"),t=this.$route.path.includes("/Tweets"),s=this.$route.path.includes("/EarningCall");console.log("isNews:",e),console.log("isTweets:",t),console.log("isEarningCall:",s),e?(this.model.modelName="tesla_news_title_sentiment_analysis",this.model.modelFounder="YC9Z",this.model.modelGroup="News"):t?(this.model.modelName="tweet-sentiment-analysis-for-tesla",this.model.modelFounder="CX330Blake",this.model.modelGroup="Tweets"):s&&(this.model.modelName="tesla_earningscall_sentiment_analysis",this.model.modelFounder="weip9012",this.model.modelGroup="Earnings Call")},computed:{},methods:{async modelInference(){const e=`${this.model.modelFounder}/${this.model.modelName}`,t=this.$refs.textInference.value;console.log(t);const s=new Worker(new URL(""+new URL("model-mLffB-nZ.js",import.meta.url).href,import.meta.url),{type:"module"}),c=z(s);try{const n=await c.fetchData(e,t);this.model.output=n.flat().map(i=>(i.score=Math.round(i.score*1e3)/1e3,i.score=parseFloat(i.score.toFixed(3)),i))}catch(n){console.error(`Error fetching data: ${n}`)}}}},re={class:"w-[94vw] mx-auto"},oe={class:"text-2xl font-bold mb-2 pl-2"},ae={class:"bg-[#4a4a4a] rounded-lg px-4 py-2 mb-2"},ie={class:"text-white"},le={class:"text-white"},ce={class:"grid grid-rows-[repeat(2,auto)] gap-y-4 bg-[#4a4a4a] rounded-lg p-4 mb-2"},de={ref:"textInference",class:"border border-white/5 bg-[#5b5b5b] px-3 py-2 min-h-24 rounded-lg text-white"},ue={class:"bg-[#4a4a4a] rounded-lg px-4 py-2 mb-2"},me={class:"w-full grid grid-cols-2 justify-between col-span-2"},fe={class:"text-white"};function ge(e,t,s,c,n,i){const o=R("CountTo");return g(),w("section",re,[a("h1",oe,h(n.model.modelGroup),1),a("div",ae,[a("h2",ie,"Model Name: "+h(n.model.modelName),1),a("p",le,"Model Founder: "+h(n.model.modelFounder),1)]),a("div",ce,[a("textarea",de,null,512),a("button",{onClick:t[0]||(t[0]=(...r)=>i.modelInference&&i.modelInference(...r)),class:"bg-[#1387f8] rounded-lg h-10 text-white"}," Compute ")]),a("div",ue,[(g(!0),w(S,null,v(n.model.output,(r,d)=>(g(),w("div",{key:r.label,class:"grid grid-cols-2"},[a("div",me,[a("div",fe,h(r.label),1),j(o,{"start-val":0,"end-val":r.score,duration:1e3,decimals:3,class:"text-right text-white"},null,8,["end-val"])])]))),128))])])}const Ne=M(ne,[["render",ge]]),he={props:{processes:{type:Object,required:!1}},components:{ScrollReveal:U},mounted(){console.log(this.processes)},data(){return{}}},pe={class:"mx-auto w-[84vw]"},we=a("h2",{class:"text-white font-bold text-xl my-3"},"Production Process",-1),_e={class:"grid grid-rows-2 place-items-center w-10 h-10 mr-5"},ye=a("div",{class:"text-lg text-white"},"STEP",-1),xe={class:"text-lg text-white"},be={class:"flex-grow grid grid-cols-2 gap-x-5"},Ee={class:"text-white"},ke={class:"text-[#d0d0d0]"},Ce={class:"flex flex-col"};function Pe(e,t,s,c,n,i){const o=R("ScrollReveal");return g(),w("section",pe,[we,(g(!0),w(S,null,v(s.processes,(r,d)=>(g(),G(o,{key:r.id,class:"bg-[#4a4a4a] rounded-lg min-h-20 flex mb-2 p-4"},{default:H(()=>[a("div",_e,[ye,a("div",xe,h((d+1).toString().padStart(2,"0")),1)]),a("div",be,[a("div",null,[a("div",Ee,h(r.title),1),a("div",ke,h(r.text),1)]),a("div",Ce,[(g(!0),w(S,null,v(r.files,l=>(g(),w("div",{key:l,class:"border border-solid border-white text-[#d0d0d0] text-sm rounded-lg px-4 py-2 overflow-hidden whitespace-nowrap text-ellipsis mb-2 last-of-type:mb-0"},h(l),1))),128))])])]),_:2},1024))),128))])}const Te=M(he,[["render",Pe]]);export{Ne as M,Te as P};
