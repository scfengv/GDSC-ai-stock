import{_ as T,o as g,c as p,a as i,t as _,h as B,v as D,F as E,e as S,b as G,r as A,f as V,w as H}from"./index-B44Pm9nP.js";import{C as W,S as U}from"./ScrollReveal-D2yaHpEN.js";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M=Symbol("Comlink.proxy"),Y=Symbol("Comlink.endpoint"),q=Symbol("Comlink.releaseProxy"),P=Symbol("Comlink.finalizer"),y=Symbol("Comlink.thrown"),R=e=>typeof e=="object"&&e!==null||typeof e=="function",X={canHandle:e=>R(e)&&e[M],serialize(e){const{port1:t,port2:r}=new MessageChannel;return F(e,t),[r,[r]]},deserialize(e){return e.start(),I(e)}},Z={canHandle:e=>R(e)&&y in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},$=new Map([["proxy",X],["throw",Z]]);function J(e,t){for(const r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function F(e,t=globalThis,r=["*"]){t.addEventListener("message",function c(n){if(!n||!n.data)return;if(!J(r,n.origin)){console.warn(`Invalid origin '${n.origin}' for comlink proxy`);return}const{id:s,type:a,path:o}=Object.assign({path:[]},n.data),d=(n.data.argumentList||[]).map(h);let l;try{const u=o.slice(0,-1).reduce((m,x)=>m[x],e),f=o.reduce((m,x)=>m[x],e);switch(a){case"GET":l=f;break;case"SET":u[o.slice(-1)[0]]=h(n.data.value),l=!0;break;case"APPLY":l=f.apply(u,d);break;case"CONSTRUCT":{const m=new f(...d);l=ne(m)}break;case"ENDPOINT":{const{port1:m,port2:x}=new MessageChannel;F(e,x),l=re(m,[m])}break;case"RELEASE":l=void 0;break;default:return}}catch(u){l={value:u,[y]:0}}Promise.resolve(l).catch(u=>({value:u,[y]:0})).then(u=>{const[f,m]=C(u);t.postMessage(Object.assign(Object.assign({},f),{id:s}),m),a==="RELEASE"&&(t.removeEventListener("message",c),O(t),P in e&&typeof e[P]=="function"&&e[P]())}).catch(u=>{const[f,m]=C({value:new TypeError("Unserializable return value"),[y]:0});t.postMessage(Object.assign(Object.assign({},f),{id:s}),m)})}),t.start&&t.start()}function K(e){return e.constructor.name==="MessagePort"}function O(e){K(e)&&e.close()}function I(e,t){return L(e,[],t)}function b(e){if(e)throw new Error("Proxy has been released and is not useable")}function z(e){return w(e,{type:"RELEASE"}).then(()=>{O(e)})}const k=new WeakMap,v="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(k.get(e)||0)-1;k.set(e,t),t===0&&z(e)});function Q(e,t){const r=(k.get(t)||0)+1;k.set(t,r),v&&v.register(e,t,e)}function ee(e){v&&v.unregister(e)}function L(e,t=[],r=function(){}){let c=!1;const n=new Proxy(r,{get(s,a){if(b(c),a===q)return()=>{ee(n),z(e),c=!0};if(a==="then"){if(t.length===0)return{then:()=>n};const o=w(e,{type:"GET",path:t.map(d=>d.toString())}).then(h);return o.then.bind(o)}return L(e,[...t,a])},set(s,a,o){b(c);const[d,l]=C(o);return w(e,{type:"SET",path:[...t,a].map(u=>u.toString()),value:d},l).then(h)},apply(s,a,o){b(c);const d=t[t.length-1];if(d===Y)return w(e,{type:"ENDPOINT"}).then(h);if(d==="bind")return L(e,t.slice(0,-1));const[l,u]=N(o);return w(e,{type:"APPLY",path:t.map(f=>f.toString()),argumentList:l},u).then(h)},construct(s,a){b(c);const[o,d]=N(a);return w(e,{type:"CONSTRUCT",path:t.map(l=>l.toString()),argumentList:o},d).then(h)}});return Q(n,e),n}function te(e){return Array.prototype.concat.apply([],e)}function N(e){const t=e.map(C);return[t.map(r=>r[0]),te(t.map(r=>r[1]))]}const j=new WeakMap;function re(e,t){return j.set(e,t),e}function ne(e){return Object.assign(e,{[M]:!0})}function C(e){for(const[t,r]of $)if(r.canHandle(e)){const[c,n]=r.serialize(e);return[{type:"HANDLER",name:t,value:c},n]}return[{type:"RAW",value:e},j.get(e)||[]]}function h(e){switch(e.type){case"HANDLER":return $.get(e.name).deserialize(e.value);case"RAW":return e.value}}function w(e,t,r){return new Promise(c=>{const n=se();e.addEventListener("message",function s(a){!a.data||!a.data.id||a.data.id!==n||(e.removeEventListener("message",s),c(a.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:n},t),r)})}function se(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const oe={components:{CountTo:W},data(){return{model:{modelName:"",modelFounder:"",output:null,modelGroup:""}}},mounted(){const e=this.$route.path.includes("/News"),t=this.$route.path.includes("/Tweets"),r=this.$route.path.includes("/EarningCall");e?(this.model.modelName="tesla_news_title_sentiment_analysis",this.model.modelFounder="YC9Z",this.model.modelGroup="News"):t?(this.model.modelName="tweet-sentiment-analysis-for-tesla",this.model.modelFounder="CX330Blake",this.model.modelGroup="Tweets"):r&&(this.model.modelName="tesla_earningscall_sentiment_analysis",this.model.modelFounder="weip9012",this.model.modelGroup="Earnings Call")},computed:{},methods:{async modelInference(){const e=`${this.model.modelFounder}/${this.model.modelName}`,t=this.$refs.textInference.value,r=new Worker(new URL("/GDSC-ai-stock/assets/model-mLffB-nZ.js",import.meta.url),{type:"module"}),c=I(r);try{const n=await c.fetchData(e,t);this.model.output=n.flat().map(s=>(s.label==="LABEL_0"?s.label="Neutral":s.label==="LABEL_1"?s.label="Positive":s.label==="LABEL_2"&&(s.label="Negative"),s.score=Math.round(s.score*1e3)/1e3,s.score=parseFloat(s.score.toFixed(3)),s))}catch(n){console.error(`Error fetching data: ${n}`)}}}},ae={class:"text-2xl font-bold pt-4 pb-3 text-center text-white md:w-[94vw] md:mx-auto xl:w-[84vw]"},ie={class:"mx-2 md:w-[94vw] md:mx-auto xl:w-[84vw] mb-4"},le=i("h2",{class:"text-white font-bold text-xl my-3"},"Inference API",-1),ce={class:"grid grid-rows-[repeat(2,auto)] gap-y-3 bg-[#4a4a4a] rounded-lg p-4"},de={ref:"textInference",class:"border border-white/5 bg-[#5b5b5b] px-3 py-2 min-h-24 rounded-lg text-white"},ue={class:"bg-[#4a4a4a] rounded-lg px-4 py-3 mb-2 grid grid-rows-3 gap-y-1"},me={class:"text-white"};function fe(e,t,r,c,n,s){const a=A("CountTo");return g(),p(E,null,[i("h1",ae,_(n.model.modelGroup),1),i("section",ie,[i("div",null,[le,i("div",ce,[i("textarea",de,null,512),i("button",{onClick:t[0]||(t[0]=(...o)=>s.modelInference&&s.modelInference(...o)),class:"bg-[#1387f8] rounded-lg h-10 text-white"}," Compute ")])]),B(i("div",ue,[(g(!0),p(E,null,S(n.model.output,(o,d)=>(g(),p("div",{key:o.label,class:"w-full grid grid-cols-2 justify-between col-span-2"},[i("div",me,_(o.label),1),G(a,{"start-val":0,"end-val":o.score,duration:1e3,decimals:3,class:"text-right text-white"},null,8,["end-val"])]))),128))],512),[[D,n.model.output]])])],64)}const Ne=T(oe,[["render",fe]]),ge={props:{processes:{type:Object,required:!1}},components:{ScrollReveal:U}},he={class:"mx-2 md:w-[94vw] md:mx-auto xl:w-[84vw] mb-4"},pe=i("h2",{class:"text-white font-bold text-xl my-3"},"Production Process",-1),we={class:"justify-self-center grid grid-rows-2 place-items-center w-10 h-10 mr-5"},_e=i("div",{class:"text-lg text-[#d0d0d0] font-bold tracking-wider"},"STEP",-1),xe={class:"text-lg text-[#d0d0d0] font-bold tracking-wider"},be={class:"flex-grow md:grid md:grid-cols-2 md:gap-x-5"},ye={class:"text-white font-bold text-lg pb-3"},Ee={class:"text-[#d0d0d0]"},ke={class:"grid grid-rows-[repeat(auto-fill,1fr)] mt-3 gap-y-2"},ve=["href"],Ce={class:"overflow-hidden whitespace-nowrap text-ellipsis"};function Pe(e,t,r,c,n,s){const a=A("ScrollReveal");return g(),p("section",he,[pe,(g(!0),p(E,null,S(r.processes,(o,d)=>(g(),V(a,{key:o.id,class:"bg-[#4a4a4a] rounded-lg grid grid-cols-[1fr,3fr] md:grid-cols-[1fr,5fr] lg:grid-cols-[1fr,6fr] mb-2 p-4"},{default:H(()=>[i("div",we,[_e,i("div",xe,_((d+1).toString().padStart(2,"0")),1)]),i("div",be,[i("div",null,[i("div",ye,_(o.title),1),i("div",Ee,_(o.text),1)]),i("div",ke,[(g(!0),p(E,null,S(o.sources,l=>(g(),p("a",{key:l.id,href:l.url,target:"_blank",rel:"noopener noreferrer",class:"border border-solid border-white text-[#d0d0d0] text-sm rounded-lg px-4 h-9 grid items-center"},[i("span",Ce,_(l.name),1)],8,ve))),128))])])]),_:2},1024))),128))])}const Te=T(ge,[["render",Pe]]);export{Ne as M,Te as P};
